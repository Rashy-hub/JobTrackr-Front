export const API_CONFIG={SEARCH_MOVIES_BY_NAME:{method:"GET",endpoint:"search/movie",params:{query:"",page:0,include_adult:!1,language:"en-US"}},GET_LATEST_MOVIES:{method:"GET",endpoint:"discover/movie",params:{include_adult:!1,language:"en-US",page:0,"primary_release_date.lte":(new Date).toISOString().slice(0,10),sort_by:"primary_release_date.desc"}},GET_GENRES_IDS:{method:"GET",endpoint:"genre/movie/list",params:{language:"en"}},SEARCH_MOVIES_BY_GENRE:{method:"GET",endpoint:"discover/movie",params:{include_adult:!1,include_video:!1,language:"en-US",page:0,sort_by:"popularity.desc",with_genres:35}}};export function getDynamicUrl(e,t={}){if(!Object.keys(API_CONFIG).includes(e))throw new Error(`Invalid action: ${e}`);const a="https://api.themoviedb.org/3/",r=API_CONFIG[e],i={...r.params,...t};let n=new URL(`${a}${r.endpoint}`);n.search=new URLSearchParams(i).toString(),console.log(n.toString());let o=r.method;return{url:n.toString(),method:o}}export async function fetchData(e){const t={method:e.method,headers:{accept:"application/json"}};try{let a={bearer:("","eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiOTBjOTI1NzdhYjUyZTUxNThmYWU0MGYxMDdkMzBjOCIsInN1YiI6IjY2NzE5MzgzZTA3ZmFmZjAzNTcyZWZhNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ztStLJqy8UtW95RrD6ie8sIpBORWWgbdk32o9Zxx9HQ")};t.headers.Authorization=`Bearer ${a.bearer}`;const r=await fetch(e,t),i=await r.json(),n=i.results.filter(e=>!!e.hasOwnProperty("poster_path")&&(null!==e.poster_path&&""!==e.poster_path));return swiperPagination.totalPage=i.total_pages,1===i.page?initSlides(n,swiper,swiperPagination):updateSlides(n,swiper,swiperPagination),i.total_results}catch(e){console.error(e)}}